<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>REBEL UNIT ‚Äì New Drop</title>

<style>
/* ======= GLOBAL ======= */
body {
    font-family: Arial;
    background: #f4f4f4;
    margin: 0;
    transition: 0.3s;
}

.dark {
    background: #111;
    color: white;
}

/* ======= HEADER ======= */
header {
    background: black;
    color: white;
    padding: 20px;
    text-align: center;
    position: relative;
}

#logoSpinner {
    position: absolute;
    left: 20px;
    top: 20px;
    font-weight: bold;
    animation: spin 4s linear infinite;
    cursor: default;
}

@keyframes spin {
    from { transform: rotate(0deg); }
    to   { transform: rotate(360deg); }
}

.top-buttons {
    position: absolute;
    right: 20px;
    top: 20px;
    display: flex;
    gap: 10px;
}

.top-buttons button {
    padding: 8px 15px;
    font-weight: bold;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

/* ======= FILTRY ======= */
.filters {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin: 30px;
}

.filters input, .filters select {
    padding: 10px;
    font-size: 16px;
}

/* ======= PRODUKTY ======= */
.product-grid {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 40px;
}

.product {
    background: white;
    padding: 20px;
    width: 300px;
    border-radius: 15px;
    box-shadow: 0 0 20px #0002;
    cursor: pointer;
    transition: 0.2s;
    text-align: center;
}

.product:hover {
    transform: scale(1.03);
}

.product img {
    width: 200px;
    display: block;
    margin: auto;
}

/* ======= MODAL PRODUKTU ======= */
.modal {
    display: none;
    position: fixed;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background: #0008;
    justify-content: center;
    align-items: center;
}

.modal-content {
    background: white;
    padding: 30px;
    border-radius: 15px;
    width: 400px;
    text-align: center;
}

.modal-content img {
    width: 250px;
}

.close {
    float: right;
    cursor: pointer;
    font-size: 25px;
}

/* ======= KOSZYK SUWAK ======= */
.cart-panel {
    position: fixed;
    right: -400px;
    top: 0;
    width: 350px;
    height: 100%;
    background: white;
    box-shadow: -5px 0 20px #0004;
    padding: 20px;
    transition: 0.3s;
    overflow-y: auto;
}

.cart-open {
    right: 0;
}

.cart-item {
    display: flex;
    justify-content: space-between;
    margin-bottom: 10px;
}

.cart-item button {
    background: red;
    border: none;
    color: white;
    cursor: pointer;
    padding: 3px 8px;
    border-radius: 5px;
}

.checkout {
    width: 100%;
    padding: 10px;
    background: black;
    color: white;
    border: none;
    font-weight: bold;
    cursor: pointer;
    border-radius: 10px;
    margin-top: 10px;
}

/* DARK MODE FIXES */
.dark .product,
.dark .modal-content,
.dark .cart-panel {
    background: #222;
    color: white;
}
</style>
</head>

<body>

<header>
    <div id="logoSpinner">RBL UNIT</div>
    <h1>NEW DROP OUT NOW!</h1>

    <div class="top-buttons">
        <button id="toggleDark">üåì</button>
        <button id="openCart">üëú (<span id="cartCount">0</span>)</button>
    </div>
</header>

<section class="filters">
    <input id="searchInput" placeholder="Szukaj...">
    <select id="categoryFilter">
        <option value="all">Wszystko</option>
        <option value="perfumy">Perfumy</option>
        <option value="ubrania">Ubrania</option>
    </select>
</section>

<h2 style="text-align:center;">NEW DROP</h2>

<div id="productList" class="product-grid"></div>

<!-- ======= MODAL PRODUKTU ======= -->
<div id="productModal" class="modal">
    <div class="modal-content">
        <span id="closeModal" class="close">&times;</span>
        <img id="modalImage">
        <h2 id="modalName"></h2>
        <p id="modalCategory"></p>
        <p id="modalPrice"></p>
        <button id="modalAdd">Dodaj do koszyka</button>
        <button id="modalBuy">Kup teraz (demo)</button>
    </div>
</div>

<!-- ======= KOSZYK SUWAK ======= -->
<div id="cartPanel" class="cart-panel">
    <h2>Koszyk</h2>
    <div id="cartItems"></div>
    <p class="total">Razem: <span id="cartTotal">0</span> z≈Ç</p>
    <button class="checkout">Kup teraz (demo)</button>
    <button id="closeCart">Zamknij</button>
</div>

<script>
/* ======= PRODUKTY ======= */
const products = [
    { name: "Dior Sauvage", price: 499, category: "perfumy", image: "sauvage.webp" },
    { name: "Urban Bomber Jacket", price: 705, category: "ubrania", image: "jacket.webp" },
    { name: "Rebel Cargo Pants", price: 449, category: "ubrania", image: "cargo.webp" },
    { name: "White Rebel Perfume", price: 399, category: "perfumy", image: "white.webp" }
];

const productList = document.getElementById("productList");
const searchInput = document.getElementById("searchInput");
const categoryFilter = document.getElementById("categoryFilter");

/* ======= GENEROWANIE PRODUKT√ìW ======= */
function displayProducts(items) {
    productList.innerHTML = "";
    items.forEach(p => {
        const div = document.createElement("div");
        div.classList.add("product");
        div.innerHTML = `
            <img src="${p.image}">
            <h3>${p.name}</h3>
            <p>${p.category}</p>
            <p>${p.price} z≈Ç</p>
        `;
        div.onclick = () => openProductModal(p);
        productList.appendChild(div);
    });
}
displayProducts(products);

/* ======= MODAL PRODUKTU ======= */
const modal = document.getElementById("productModal");
const closeModal = document.getElementById("closeModal");

function openProductModal(p) {
    document.getElementById("modalImage").src = p.image;
    document.getElementById("modalName").innerText = p.name;
    document.getElementById("modalCategory").innerText = p.category;
    document.getElementById("modalPrice").innerText = p.price + " z≈Ç";

    document.getElementById("modalAdd").onclick = () => addToCart(p);
    modal.style.display = "flex";
}
closeModal.onclick = () => modal.style.display = "none";

/* ======= KOSZYK ======= */
let cart = [];
const cartPanel = document.getElementById("cartPanel");
const openCartBtn = document.getElementById("openCart");
const closeCartBtn = document.getElementById("closeCart");
const cartItems = document.getElementById("cartItems");
const cartTotal = document.getElementById("cartTotal");

openCartBtn.onclick = () => cartPanel.classList.add("cart-open");
closeCartBtn.onclick = () => cartPanel.classList.remove("cart-open");

function addToCart(p) {
    cart.push(p);
    updateCart();
}

function updateCart() {
    cartItems.innerHTML = "";
    let total = 0;

    cart.forEach((item, index) => {
        total += item.price;
        cartItems.innerHTML += `
            <div class="cart-item">
                ${item.name} - ${item.price} z≈Ç
                <button onclick="removeItem(${index})">‚ùå</button>
            </div>`;
    });

    document.getElementById("cartCount").innerText = cart.length;
    cartTotal.innerText = total;
}

function removeItem(i) {
    cart.splice(i, 1);
    updateCart();
}

/* ======= FILTRY ======= */
searchInput.oninput = filterProducts;
categoryFilter.onchange = filterProducts;

function filterProducts() {
    const search = searchInput.value.toLowerCase();
    const cat = categoryFilter.value;

    const filtered = products.filter(p =>
        p.name.toLowerCase().includes(search) &&
        (cat === "all" || p.category === cat)
    );

    displayProducts(filtered);
}

/* ======= TRYB NOCNY ======= */
document.getElementById("toggleDark").onclick = () => {
    document.body.classList.toggle("dark");
};
</script>

</body>
</html>
















